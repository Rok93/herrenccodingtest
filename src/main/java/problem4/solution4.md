# 문제4. 테이블 설계 문제 
> Q4. 기존 예약 테이블이 한 명의 고객만 예약이 가능하게 설계 되어 있다.
기획자가 한명이 아니라 여러 명이 동시에 예약이 가능하게 개발해 달라고 한다.
어떻게 설계를 할 것인가? 자세히 설명해주세요.

<br>

~~~
예약 테이블의 예약자 컬럼(Primary Key로 회원 테이블의 대표키를 가짐) 값이 없으면 예약을 받을 수 있고, 
값이 특정 회원ID로 저장되어 있다면, 예약을 받을 수 없는 상태로 설계되어있습니다.
(일반적으로 회원은 여러개의 예약을 할 수 있어, 예약 테이블이 회원 테이블과 다대일[ManyToOne, N:1] 맵핑이라고 가정). 
문제의 조건에 따르면, 예약 테이블도 회원(=고객) 테이블을 여러개 가질 수 있게 즉 예약 테이블과 회원 테이블의 관계를 
다대다[ManyToMany, N:M]의 관계가 됩니다. 이 다대다의 관계는 실제 테이블의 관계에서 바로 풀어낼 수 없어서, 
이 관계를 다대일 혹은 일대다[oneToMany, 1:N]의 관계로 풀어내서 처리해야 합니다. 일반적으로 다대다 관계는 두 테이블의
대표키를 컬럼으로 갖는 또 다른 테이블을 생성해서 관리합니다. 즉 두 테이블의 대표키를 컬럼으로 갖는 또 다른 테이블을 생성해야합니다. 
이 두 테이블을 연결하는 테이블을 통해서 다대다 관계를 일대다 or 다대일의 관계로 풀어낼 수 있고, 
고객이 예약을 하면 이 예약한 회원의 테이블 대표키 값과 예약한 예약 테이블의 대표키 값을 각각 가지는 연결 테이블이 1개씩 생성됩니다.
특정 예약을 한 고객들을 조회하거나 고객이 예약한 예약들을 조회할 때, 이 연결 테이블과 join하여 조회함으로서 원하는 조회 결과를 얻을 수 있습니다.
~~~ 
